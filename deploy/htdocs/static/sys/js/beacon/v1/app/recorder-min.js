(function(a){a.moduleManager.register("recorder",function(){var g=this,e=g.globals,c=g.tools,f=function(k,l,m){l=l?("?"+l):"";var j=new Image(1,1);j.src=k+l;j.onload=function(){this.onload=null;(m||c.emptyFunction)()}},i=function(j,m,n){var k=e.win.XDomainRequest,l;if(k){l=new k;l.open("POST",j)}else{l=new XMLHttpRequest;if("withCredentials" in l){l.open("POST",j,true);l.setRequestHeader("Content-Type","text/plain")}}if(l){l.onreadystatechange=function(){if(l.readyState==4){n&&n();l=null}};l.send(m);return true}return false},b=function(){},d=function(q){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p,o,m,j=q.length,n=0,l="";while(n<j){p=q.charCodeAt(n++)&255;if(n==j){l+=k.charAt(p>>2);l+=k.charAt((p&3)<<4);l+="==";break}o=q.charCodeAt(n++);if(n==j){l+=k.charAt(p>>2);l+=k.charAt(((p&3)<<4)|((o&240)>>4));l+=k.charAt((o&15)<<2);l+="=";break}m=q.charCodeAt(n++);l+=k.charAt(p>>2);l+=k.charAt(((p&3)<<4)|((o&240)>>4));l+=k.charAt(((o&15)<<2)|((m&192)>>6));l+=k.charAt(m&63)}return l},h=function(m,j){var n="",k="",l=[];if(m&&!c.isEmptyObject(m)){n=d(c.combineParam(m,{},"&"))}j.ver=e.version;j.t=+new Date();k=c.combineParam(j,{},"&");if(n){l.push(n)}if(k){l.push(k)}return l.join("&")};return{sendEssentialInfo:function(k,l,j,o){var m=this,n=h(l,j);m.send(k,n,o)},send:function(k,m,n){var j=m.length;if(j<=2036){f(k,m,n)}else{if(j<=8192){f(k,"len="+j+"&"+m,n)}else{f(k,"err=len&len="+j+"&"+m,n)}}}}},true)})(MAGNETO);
