!function(e,t){var r=!0,n=e.document,a=n.location,o=a.protocol,c=(new Date).getTime();if(e.Manifold===t){Manifold={},r=!1;var s={opener:opener,pageId:null,customize:e.WolfSmoke||{},version:"2.1"},u={samplerate:s.customize.samplerate||1,siteNo:s.customize.siteNo||10,logSeverOne:o+"//dmtracking.1688.com/b.jpg",logSeverTwo:o+"//dmtracking.1688.com/c.jpg",tracelogSever:o+"//stat.1688.com/tracelog/click.html",errorSever:o+"//stat.1688.com/dw/error.html",acookieSever:o+"//acookie.1688.com/1.gif",isSetCookieToAcookie:s.customize.isSetCookieToAcookie||!1,needDefaultCookies:[],isCheckLogin:!1},l={isObject:function(e){return e===Object(e)},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e&&"[object Number]"==Object.prototype.toString.call(e)},isString:function(e){return"string"==typeof e||"[object String]"==Object.prototype.toString.call(e)},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){for(var t in e)return!1;return!0},trim:function(e){return this.isString(e)?String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,""):""},btoa:function(t){if(e.btoa)return e.btoa(t);var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(len=t.length,i=0,out="";len>i;){if(c1=255&t.charCodeAt(i++),i===len){out+=r.charAt(c1>>2),out+=r.charAt((3&c1)<<4),out+="==";break}if(c2=t.charCodeAt(i++),i===len){out+=r.charAt(c1>>2),out+=r.charAt((3&c1)<<4|(240&c2)>>4),out+=r.charAt((15&c2)<<2),out+="=";break}c3=t.charCodeAt(i++),out+=r.charAt(c1>>2),out+=r.charAt((3&c1)<<4|(240&c2)>>4),out+=r.charAt((15&c2)<<2|(192&c3)>>6),out+=r.charAt(63&c3)}return out},combineJson:function(e,t,r){var n={};for(var a in t)(r||!e.hasOwnProperty(a))&&(n[a]=t[a],delete e[a]);for(var o in e)n[o]=e[o];return n},combineParam:function(e,t,r,n){var a=[];for(var o in t)(n||!e.hasOwnProperty(o))&&(a.push(o+"="+t[o]),delete e[o]);for(var i in e)a.push(i+"="+e[i]);return a.join(r)},parseParam:function(e,t){var r,n=null,a={};if(this.isString(e)&&e.length){r=e.split(t);for(var o=0,i=r.length;i>o;o++)n=r[o].split("="),a[n[0]]=n[1]}return a},random:function(){return Math.round(2147483647*Math.random())},getReferrer:function(){var e="-";try{e=n.referrer||s.opener.location.href||"-"}catch(t){e="-"}return e},randomPageId:function(){var t=(e.dmtrack_pageid||"")+c;for(t=t.substr(0,20);t.length<42;)t+=l.random();return t=t.substr(0,42),s.pageId=e.dmtrack_pageid=e.unique_pageid=t,t},sampling:function(){return Math.random()-u.samplerate<=0},trimHttpStr:function(e){return e.substr(e.indexOf("://")+2)}},m=function(){var t=function(t,r,n){var a,o=new Image,i="_img_"+l.random(),c=-1==t.indexOf("?")?"?":"&",s=r?l.isString(r)?r:"":"";return e[i]=o,o.onload=o.onerror=function(){e[i]=null,!n||n()},o.src=a=s?t+c+s:t,o=null,a},r=function(e,t){var r=n.getElementsByTagName("head")[0],a=n.createElement("script"),o=!1;a.src=e,a.async=!0;var i=t;l.isFunction(i)&&(a.onerror=function(t){i({url:e,event:t})}),a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,a.onload=a.onreadystatechange=null,a&&a.parentNode&&a.parentNode.removeChild(a))},r.appendChild(a)},a=function(e,t){var r="",n="",a=[];return e&&!l.isEmptyObject(e)&&(r=l.btoa(l.combineParam(e,{},"&"))),t.ver=s.version,t.t=c,n=l.combineParam(t,{},"&"),r&&a.push(r),n&&a.push(n),a.join("&")};return{loadScript:r,jsonp:function(t,n,a,o){o=o||"callback",n=n||{};var i=-1===(t||"").indexOf("?")?"?":"&",s=o+"_json"+c;for(var u in n)n.hasOwnProperty(u)&&(i+=encodeURIComponent(u)+"="+encodeURIComponent(n[u])+"&");return e[s]=function(t){a(t);try{delete e[s]}catch(r){}e[s]=null},r(t+i+o+"="+s),s},send:function(e,r,n){var a=r.length;2048>=a?t(e,r,n):8192>=a?t(e,"len="+a+"&"+r,n):t(e,"err=len&len="+a+"&"+r,n)},sendStat:function(e,t,r,n){var o=a(t,r);this.send(e,o,n)},sendError:function(e,t,r){var n="type="+t+"&exception="+e.message;this.send(u.errorSever,n,r)}}}(),f=function(){var e=function(e){var t={};if(e&&l.isString(e))for(var r=e.split(/;\s/g),n="",a="",o="",i=0,c=r.length;c>i;i++)o=r[i].match(/([^=]+)=/i),l.isArray(o)?(n=unescape(o[1]),a=unescape(r[i].substring(o[1].length+1))):(n=unescape(r[i]),a=""),t[n]=a;return t},t=function(e){return e=new Date(c+e),";expires="+e.toGMTString()},r=function(e,r,n){var a=n.expires||1,o=n.path||"",i=n.domain||"",c=n.secure||!1,s=escape(e)+"="+escape(r);return a instanceof Date&&(s+="; expires="+a.toUTCString()),a&&l.isNumber(a)&&(s+=t(24*a*60*60*1e3)),o&&l.isString(o)&&(s+="; path="+o),i&&l.isString(i)&&(s+="; domain="+i),c&&(s+="; secure"),s};return{get:function(t){if(!t||!l.isString(t))return null;var r=e(n.cookie);return t in r?r[t]:null},getSub:function(e,t){var r=this.getSubCookies(e);return r?t&&l.isString(t)?t in r?r[t]:null:null:null},getSubCookies:function(e){var t=this.get(e),r=l.parseParam(t,"|");return r},set:function(e,t,a){if(a=a||{},t&&l.isString(e)){var o=r(e,t,a);n.cookie=o}},setSub:function(e,t,r,n){if(e&&l.isString(e)&&t&&l.isString(t)&&r){var a=this.getSubCookies(e)||{},o={};o[t]=r,this.set(e,l.combineParam(a,o,"|",!0),n)}},setSubs:function(e,t,r){if(e&&l.isString(e)){var n=this.getSubCookies(e)||{};this.set(e,l.combineParam(n,t,"|",!0),r)}},remove:function(e){n.cookie=r(e,"",{expires:new Date(0)})},removeSub:function(e,t){if(e&&l.isString(e)&&t&&l.isString(t)){var r=this.getSubCookies(e);r&&r.hasOwnProperty(t)&&(delete r[t],this.set(e,l.combineParam(r,{},"|")))}}}}(),d=Manifold.UA=function(){var t,r,n={trident:0,webkit:0,gecko:0,presto:0,khtml:0,name:"other",ver:null},a={ie:0,firefox:0,chrome:0,safari:0,opera:0,konq:0,name:"other",ver:null},o={name:"",ver:null},i={win:!1,mac:!1,x11:!1,name:"other"},c="other",s=e.navigator,u=s.userAgent,l=s.platform,m=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 0===t++?".":""}))};if(e.opera)n.ver=a.ver=m(e.opera.version()),n.presto=a.opera=parseFloat(n.ver),n.name="presto",a.name="opera";else if(/AppleWebKit\/(\S+)/.test(u))if(n.ver=m(RegExp.$1),n.webkit=n.ver,n.name="webkit",/Chrome\/(\S+)/.test(u))a.ver=m(RegExp.$1),a.chrome=a.ver,a.name="chrome";else if(/Version\/(\S+)/.test(u))a.ver=m(RegExp.$1),a.safari=a.ver,a.name="safari";else{var f=1;f=n.webkit<100?1:n.webkit<312?1.2:n.webkit<412?1.3:2,a.safari=a.ver=f,a.name="safari"}else/KHTML\/(\S+)/.test(u)||/Konqueror\/([^;]+)/.test(u)?(n.ver=a.ver=m(RegExp.$1),n.khtml=a.konq=n.ver,n.name="khtml",a.name="konq"):/rv:([^\)]+)\) Gecko\/\d{8}/.test(u)?(n.ver=m(RegExp.$1),n.gecko=n.ver,n.name="gecko",/Firefox\/(\S+)/.test(u)&&(a.ver=m(RegExp.$1),a.firefox=a.ver,a.name="firefox")):/IE ([^;]+)/.test(u)&&(n.ver=a.ver=m(RegExp.$1),n.trident=a.ie=n.ver,n.name="trident",a.name="ie");if(o.name=a.name,o.ver=a.ver,t=u.match(/360SE/))o.name="se360",o.ver=3;else if((t=u.match(/Maxthon/))&&(r=WIN.external)){o.name="maxthon";try{o.ver=m(r.max_version)}catch(d){o.ver=.1}}else(t=u.match(/TencentTraveler\s([\d.]*)/))?(o.name="tt",o.ver=m(t[1])||.1):(t=u.match(/TheWorld/))?(o.name="theworld",o.ver=3):(t=u.match(/SE\s([\d.]*)/))&&(o.name="sougou",o.ver=m(t[1])||.1);if(i.win=0==l.indexOf("Win"),i.mac=0==l.indexOf("Mac"),i.x11="X11"==l||0==l.indexOf("Linux"),i.win){if(/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(u))if("NT"==RegExp.$1)switch(RegExp.$2){case"5.0":i.win="2000";break;case"5.1":i.win="XP";break;case"6.0":i.win="Vista";break;case"6.1":i.win="7";break;case"6.3":i.win="8";break;default:i.win="NT"}else i.win="9x"==RegExp.$1?"ME":RegExp.$1;i.name="windows"+i.win}return i.mac&&(i.name="mac"),i.x11&&(i.name="x11"),"CE"==i.win?c="windows mobile":/ Mobile\//.test(u)?c="apple":(t=u.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(c=t[0].toLowerCase()),{engine:n,browser:a,extraBrowser:o,system:i,mobile:c,resolution:e.screen.width+"*"+e.screen.height,language:s.language||s.browserLanguage}}(),p=Manifold.SPM=function(){var t=!0,r=!1,a=!1,o="data-spm",i="data-spm-anchor-id",c="data-spm-protocol",f=r,d={},p=r,g="",h="",v=u.spmServer,b=!!n.attachEvent,S="attachEvent",k="addEventListener",y=b?S:k,w=r,P=function(e,t){return e.indexOf(t)>-1},x=function(e){var t;try{t=l.trim(e.getAttribute("href",2))}catch(r){}return t||""},_=function(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""},A=function(e,t,r){if(e&&e.setAttribute)try{e.setAttribute(t,r)}catch(n){}},E=function(e){var t,r;try{return t=[].slice.call(e)}catch(n){t=[],r=e.length;for(var a=0;r>a;a++)t.push(e[a]);return t}},C=function(t,n,a){t[y]((b?"on":"")+n,function(t){t=t||e.event;var r=t.target||t.srcElement;a(t,r)},r)},M=function(){return n.getElementsByTagName("meta")},O=function(){var e,t,r,n,a=M();for(e=0,t=a.length;t>e;e++)r=a[e],n=_(r,"name"),n===o&&(h=_(r,c),g=_(r,"content"))},N=function(){var t,r="",o="";return O(),e._SPM_a&&e._SPM_b&&(r=e._SPM_a.replace(/^{(\w+)}$/g,"$1"),o=e._SPM_b.replace(/^{(\w+)}$/g,"$1"),"{}"!==r&&"{-}"!==r&&"{}"!==o&&"{-}"!==o&&(f="true")),r&&o&&"{}"!==r&&"{}"!==o&&"{-}"!==r&&"{-}"!==o||(r=g,o=_(n.body,"data-spm")||0),t=r+"."+o,r&&o&&/^[\w\-\*]+\.[\w\-\*]+$/.test(t)||(a=!0,t=0),t}(),T=function(e){for(var t;(e=e.parentNode)&&"BODY"!=e.tagName;)if(t=_(e,c))return t;return""},j=function(t){e.jQuery?jQuery(n).ready(t):"complete"===n.readyState?t():C(e,"load",t)},I=function(e,t){if(t||(t=n),n.evaluate)return t.evaluate(e,n,null,9,null).singleNodeValue;for(var r,a=e.split("/");!r&&a.length>0;)r=a.shift();var o,i=/^.+?\[@id="(.+?)"]$/i,c=/^(.+?)\[(\d+)]$/i;return(o=r.match(i))?t=t.getElementById(o[1]):(o=r.match(c))&&(t=t.getElementsByTagName(o[1])[parseInt(o[2])]),t?0==a.length?t:I(a.join("/"),t):null},$=function(){var e,t,r,n={};for(e in d)d.hasOwnProperty(e)&&(t=I(e),t&&(n[e]=1,r=d[e],A(t,o,("A"==t.tagName?r.spmd:r.spmc)||"")));for(e in n)n.hasOwnProperty(e)&&delete d[e]};return wh_init=function(){if(!p){if(!e.spmData)return w||setTimeout(arguments.callee,100),void 0;p=t;var r,n,a,o,i=e.spmData.data;if(i&&l.isArray(i)){for(r=0,n=i.length;n>r;r++)a=i[r],o=a.xpath,o=o.replace(/^id\("(.+?)"\)(.*)/g,'//*[@id="$1"]$2'),d[o]={spmc:a.spmc,spmd:a.spmd};$()}}},isAlipayUrl=function(e){return e?!!e.match(/^[^\?]*\balipay\.(?:com|net)\b/i):!1},getAnchor4thId=function(e){var t;return a?t="0":(t=_(e,o),t&&t.match(/^d\w+$/)||(t="")),t},removeAnchorSPM=function(e){return e&&/&?\bspm=[^&#]*/.test(e)&&(e=e.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),e},updateHrefWithSPMId=function(e,t){if(e=removeAnchorSPM(e),!t)return e;var r,n,a,o,i,c,s,u="&";if(-1!=e.indexOf("#")&&(a=e.split("#"),e=a.shift(),n=a.join("#")),o=e.split("?"),i=o.length-1,a=o[0].split("//"),a=a[a.length-1].split("/"),c=a.length>1?a.pop():"",i>0&&(r=o.pop(),e=o.join("?")),r&&i>1&&-1==r.indexOf("&")&&-1!=r.indexOf("%")&&(u="%26"),e=e+"?spm="+t+(r?u+r:"")+(n?"#"+n:""),s=P(c,".")?c.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(s))return 0;!r&&1>=i&&(n||{htm:1,html:1,php:1}.hasOwnProperty(s)||(e+="&file="+c))}return e},anchorAddSpmParam=function(e,t){var r=e,n=x(r),a="i"==(_(r,c)||T(r)||h),o=v+"?spm=";n&&t&&(0===n.indexOf("#")||0===n.toLowerCase().indexOf("javascript:")||isAlipayUrl(n)||(a?(n=removeAnchorSPM(n),o+=t+"&st_page_id="+s.pageId+"&url="+encodeURIComponent(n)+"&cache="+l.random(),m.send(o,"")):(n=updateHrefWithSPMId(n,t))&&spmWriteHref(r,n)))},spmWriteHref=function(e,t){var r,a=e,o=a.innerHTML;o&&-1==o.indexOf("<")&&(r=n.createElement("b"),r.style.display="none",a.appendChild(r)),a.href=t,r&&a.removeChild(r)},dealNoneSPMLink=function(e){var t=e,r=[N,0,0].join(".");anchorAddSpmParam(t,r)},getParentSPMId=function(e){for(var t,r=e.tagName.toLowerCase(),n={};e&&"html"!==r&&"body"!==r;){if(f&&$(),t=_(e,o)){n={spmEl:e,spmId:t};break}if(!(e=e.parentNode))break;r=e.tagName.toLowerCase()}return n},initSPMModule=function(e,t){var r=e,n=t.spmEl,a=t.spmId,o=[N,a].join(".");if(o.match&&o.match(/^[\w\-\*]+\.[\w\-\*]+\.[\w\-\*]+$/))for(var c,s,u,l=E(n.getElementsByTagName("a")),m=E(n.getElementsByTagName("area")),f=l.concat(m),d=0,p=0,g=f.length;g>p;p++)if(c=f[p],s=x(c),s&&(d++,c===r)){u=o+"."+(getAnchor4thId(c)||d),A(c,i,u);break}},setSpmParm=function(e){var t,r=e,n=_(r,i);if(!n){if(t=getParentSPMId(r.parentNode),!t.spmId)return dealNoneSPMLink(r),void 0;initSPMModule(r,t),n=_(r,i)}anchorAddSpmParam(r,n)},doTrace=function(e,t){for(var r;t&&(r=t.tagName.toLowerCase());){if("a"===r||"area"===r){setSpmParm(t);break}if("body"===r||"html"===r)break;t=t.parentNode}},init=function(){j(function(){w=t,N&&(wh_init(),C(n.body,"mousedown",doTrace),C(n.body,"keydown",doTrace))})},{cnt:N,init:init}}(),g=Manifold.Essential=function(){var t=function(){var e="true"===f.get("__cn_logon__");return e},r=function(){var t=e.dmtrack_c;return t&&"{-}"!==t?(t=t.substring(1,t.length-1).replace(/ali_resin_trace=/,""),l.parseParam(t,"|")):{}},n=function(){try{var e=l.getReferrer(),t=l.random(),r=s.customize.acookieAdditional||{},n={cache:t,pre:e};m.sendStat(u.acookieSever,{},l.combineJson(n,r))}catch(a){m.sendError(a,"acookie")}},o=function(){var e=d.extraBrowser,t=e.name+e.ver.toFixed(1),r=d.system.name,n=t+"|"+r+"|"+d.resolution+"|"+d.language;return n},i=function(e){var t=s.customize.needCookies,r=u.needDefaultCookies;t&&l.isArray(r)&&(r=r.concat(t));for(var n,a,o=r.length;o--;)n=r[o],a=f.get(n)||"-",e[n]=a};return{send:function(){var e=encodeURI(l.getReferrer()),c=f.getSubCookies("ali_apache_track")||{},s=r(),d=f.getSubCookies("aliBeacon_bcookie")||{},g=encodeURI(a.href);u.isSetCookieToAcookie&&n(),i(c),u.isCheckLogin&&!s.c_signed&&(s.c_signed=t()?1:0),l.combineJson(s,d,!0),f.remove("aliBeacon_bcookie"),m.sendStat(u.logSeverOne,{p:"{"+u.siteNo+"}",u:"{"+l.trimHttpStr(g)+"}",m:"{GET}",s:"{200}",r:"{"+e+"}",a:"{"+l.combineParam(c,{},"|")+"}",b:"{-}",c:"{"+l.combineParam(s,d,"|",!0)+"}"},{spm_cnt:p.cnt,pageid:l.randomPageId(),sys:o()})}}}(),h=Manifold.api={log:function(e,t){try{var r={},n={},a=e.split("?");a[1]&&(n=l.parseParam(a[1],"&")),l.isString(t)?("?"===t.substring(0,1)&&(t=t.substring(1)),r=l.parseParam(t,"&")):l.isObject(t)&&(r=t),r.st_page_id=s.pageId,m.sendStat(a[0],{},l.combineJson(r,n))}catch(o){m.sendError(o,"log")}},asysLog:function(e,t,r){try{t&&"-"!==t||(t=a.href),m.sendStat(u.logSeverTwo,{p:"{"+u.siteNo+"}",u:"{"+l.trimHttpStr(e)+"}",m:"{GET}",s:"{200}",r:"{"+t+"}",a:"{"+f.get("ali_apache_track")+"}",b:"{-}",c:"{"+l.combineParam(r||{},{},"|")||"-}"},{pageid:l.randomPageId()})}catch(n){m.sendError(n,"asysLog")}},flashLog:function(t,r){try{var n=e.dmtrack_c;n=n&&"{-}"!==n?n.substring(1,n.length-1).replace(/ali_resin_trace=/,""):"-",r&&"-"!==r||(r=a.href),m.sendStat(u.logSeverTwo,{p:"{"+u.siteNo+"}",u:"{"+t+"}",m:"{GET}",s:"{200}",r:"{"+r+"}",a:"{"+f.get("ali_apache_track")+"}",b:"{-}",c:"{"+n+"}"},{pageid:l.randomPageId(),dmtrack_type:"xuanwangpu"})}catch(o){m.sendError(o,"flashLog")}}};if(e.dmtrack={clickstat:function(e,t){h.log(e,t)},clickunite:function(e){h.log(u.tracelogSever,e)},tracelog:function(e){h.log(u.tracelogSever,{tracelog:e})},beacon_click:function(e,t,r){h.asysLog(e,t,r)},flash_dmtracking:function(e,t){h.flashLog(e,t)}},l.sampling())try{g.send()}catch(v){m.sendError(v,"essential")}}}(window);