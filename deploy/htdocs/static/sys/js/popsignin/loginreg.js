YAHOO.namespace("FD.Member.LR");(function(d){var f=FDEV.lang,c=FDEV.env.ua,b=/^(0|86)?1[3458]\d{9}$/,a=FD.widget.Valid.regExps.isEmail;FD.common.apply(d,{mod:null,tabIndex:null,sessionId:null,checkcodeSrc:"https://login.1688.com/omeocheckcode",getLastLoginType:"http://login.1688.com/member/GetLastLoginType.do",loginUrl:"https://login.1688.com/member/PopSignin.do",urlEmail:"http://exodus.1688.com/member/CheckEmailJson.htm",urlId:"http://exodus.1688.com/member/CheckLoginIdAndRecommendJson.htm",registUrl:"http://exodus.1688.com/member/join/commonPopValidateJoin.htm",urlSendM:"http://exodus.1688.com/member/sendIdentityCodeByMobile.htm",urlSendE:"http://exodus.1688.com/member/sendIdentityCodeByEmail.htm",urlMobile:"http://exodus.1688.com/member/checkMobileValidate.htm",urlUM:"http://exodus.1688.com/member/popSignin.htm",alipayLoginServer:"https://auth.alipay.com/login/option.htm",alipayGoto:"https://auth.alipay.com/login/alibabacn_trust_login.htm",taobaoLoginServer:"https://login.taobao.com/member/login.jhtml?style=mini&full_redirect=true&disableQuickLogin=true",taobaoMiddle:"http://member1.taobao.com/member/get_user_info.htm?from=alibaba",taobaoGoto:"http://jump.taobao.com/jump",registByM:true,cbuRegister:"http://exodus.1688.com/member/join/common_join.htm",alipayNotice:"http://member.1688.com/member/alipay/notice_for_pop.htm",taobaoLoginPage:"https://login.taobao.com/member/login.jhtml",memberwebAlipayLogin:"http://member.1688.com/member/alipay/notice.htm",aliclick:function(i,h){var g=this.registByM?"m":"e";aliclick(i,f.substitute(h,[g]))},render:function(){var h=FYG("modLoginReg"),g=this.loginid||"",j=FYG("popTopInfo"),i=(j&&j.value!="")?j.value:"30\u79d2\u5feb\u901f\u6ce8\u518c\uff0c\u8f7b\u677e\u505a\u7f51\u5546";if(!h){h=document.createElement("div");h.id="modLoginReg";h.style.display="none";document.body.appendChild(h);h.innerHTML=['<div class="wrap">			<div class="title fd-clr">				<h3><img alt="\u963f\u91cc\u5df4\u5df4" src="http://img.china.alibaba.com/cms/upload/member/logo2.gif" /></h3>				<a href="javascript:;" class="close" tabindex="9000"></a>			</div>			<div class="box">   <div id="msgTip-new">\u6dd8\u5b9d\u4f1a\u5458\u8bf7\u5728\u6b64\u767b\u5f55\uff08\u4ec5\u9650\u4f1a\u5458\u540d\uff09</div>             <form action="" method="post" onsubmit="FD.Member.LR.submit();return false;">                    <ul class="tab" style="display: none;"><li>\u4f1a\u5458\u767b\u5f55</li><li>\u514d\u8d39\u6ce8\u518c</li><li><button type="submit"></button></li></ul>                    <fieldset style="display: none;">                        <div class="b2btype">                            <div id="loginchinatype">                                <iframe width="310" height="270" frameborder="no" border="0" scrolling="no"></iframe>                             </div>							<div class="signin-type">                 				<a class="taobao-login-trigger" href="javascript:;">\u6dd8\u5b9d\u624b\u673a\u53f7 / \u90ae\u7bb1\u767b\u5f55</a>								<a class="free-regist" target="_blank" href="',d.cbuRegister,'">\u514d\u8d39\u6ce8\u518c</a>							</div>                			<div class="gray-bg-wrapper">                    			<div class="alipay-login-div">                            		<span>\u539f\u4f7f\u7528\u652f\u4ed8\u5b9d\u767b\u5f55\u4f1a\u5458\uff0c</span><a class="alipay-login-trigger" href="javascript:;">\u70b9\u6b64\u8fdb\u5165&gt;</a>                            	</div>                        	</div>                        </div>                        <div class="alipaytype" style="display:none;">                            <div class="alipay-content"><iframe width="370" height="260" scrolling="no" frameborder="0" allowtransparency="true" src="',d.alipayNotice,'"></iframe></div>                   			<div class="gray-bg-wrapper">                       			<div class="return-cbu-signin" style="width: 370px;">                       				<a href="javascript:;" class="logtype-b2b">&lt;\u8fd4\u56de\u963f\u91cc\u5df4\u5df4\u5e10\u53f7\u767b\u5f55</a>                               	</div>                           	</div>                        </div>                        <div class="taobaotype" style="display:none;">		                        <div class="taobao-signin-title">		                            <b>\u6dd8\u5b9d\u4f1a\u5458</b>		                        </div>                                <div class="taobao-content"><iframe width="310" height="300" scrolling="no" frameborder="0" src="'+this.generateTaobaoLoginUrl()+'"></iframe></div>                       			<div class="gray-bg-wrapper">                           			<div class="return-cbu-signin">                           				<a href="javascript:;" class="logtype-b2b">&lt;\u8fd4\u56de\u963f\u91cc\u5df4\u5df4\u5e10\u53f7\u767b\u5f55</a>                                   	</div>                               	</div>                        </div>                    </fieldset>                    <fieldset class="register">                        <iframe width="384" height="414" scrolling="no" frameborder="0"></iframe>                    </fieldset>                    <div class="done" style="display: none;"></div><div class="done" style="display: none;"></div>                </form></div></div>'].join("");this.mod=h}},init:function(){var j=this,N=FYS("form",this.mod,true),q=FYS("ul.tab>li",this.mod),R=FYS("fieldset",this.mod),Q=FYS("dl.action",this.mod),u=FYS("div.done",this.mod),S=FYS("input.text",this.mod),x=FYS("div.message",this.mod),T=FYS("a.close",this.mod),J=FYS("a.refresh",this.mod),w=FYS(">button",q[2],true),Y=FYS("a.forget",R[0],true),A=FYS("a.send",R[1]),m=S[0],B=FYD.getNextSibling(m),Z=FYS(">input",B,true),K=S[1],H=S[2],G=FYD.getNextSibling(H),i=FYD.getNextSibling(G),t=S[3],p=S[4],V=S[5],h=FYS("dl.switch-m",R[1]),k=FYS("dl.switch-e",R[1]),L=S[6],M=S[7],W=S[8],I=FYG("#loginchinatype"),v=FYS("#loginchinatype iframe",X,true),l=FYS("a.login",I,true),o=FYS("a.regist",this.mod,true),n=FYS("dl.switcher>a",R[1],true),D=false,g=false,X=FYS(".b2btype",this.mod,true),P=FYS(".alipaytype",this.mod,true),O=FYS(".taobaotype",this.mod,true),F=FYS("a.alipay-login-trigger",X,true),U=FYS(".taobao-login-trigger",X,true),y=FYS("a.logtype-b2b",this.mod,false);q.pop();this.tabs=q;this.form=N;this.emaile=M;this.lcode=H;this.lcodeBox=FYD.getAncestorByClassName(H,"code");this.lcodeActive=false;this.rcode=W;this.switcher=n;this.btnLogin=l;this.btnRegist=o;FYE.on(T,"click",function(ab,ac){FYE.preventDefault(ab);if(ac.currentFocus){var aa;switch(ac.currentFocus){case"id":aa=1;break;case"pwd":aa=2;break;case"repwd":aa=3;break;case"emaile":aa=4;break;case"code":aa=6;break}d.aliclick(null,"?tracelog=reg_simple_{0}_close"+aa)}ac.hide()},this);if(!("placeholder" in document.createElement("input"))){FYE.on([m,M],"focus",function(){FYD.removeClass(this,"placeholder")});FYE.on([m,M],"blur",function(){if(this.value===""){FYD.addClass(this,"placeholder")}})}else{FYD.removeClass([m,M],"placeholder")}FYE.on(w,"focus",function(){this.blur()});FYE.on(i,"click",function(ab,aa){FYE.preventDefault(ab);d.aliclick(null,"?tracelog=signin_simple_chgcode")});FYE.on(q,"click",function(ab,ac){if(FYD.hasClass(this,"current")){return}var aa=q.indexOf(this);FYD.removeClass(q,"current");FYD.addClass(this,"current");FYD.setStyle(u,"display","none");FYD.setStyle(R,"display","none");FYD.setStyle([R[aa],Q[aa]],"display","");if(aa){d.aliclick(null,"?tracelog=reg_simple_m_tab1")}ac.tabIndex=aa;if(ab.button==0&&aa===0){d.aliclick(null,"?tracelog=signin_simple_tab")}},this);FYE.on(J,"click",function(aa){FYE.preventDefault(aa);location.reload()});FYE.on(Y,"mousedown",function(){d.aliclick(null,"?tracelog=signin_simple_pass")});FYE.on([t,p,V,M,W],"blur",function(aa,ab){ab.currentFocus=null},this);FYE.on([t,p,V,M,W],"focus",function(aa,ab){ab.currentFocus=ab.vRegist.getConfig(this).key},this);FYE.on(L,"keyup",function(){if(b.test(this.value)&&!FYD.hasClass(A[0],"send-cd")){FYD.removeClass(A[0],"send-disabled")}else{FYD.addClass(A[0],"send-disabled")}});FYE.on(M,"keyup",function(){if(a.test(this.value)&&!FYD.hasClass(A[1],"send-cd")){FYD.removeClass(A[1],"send-disabled")}else{FYD.addClass(A[1],"send-disabled")}});FYE.on(A,"click",function(aj,ae){FYE.preventDefault(aj);if(!FYD.hasClass(this,"send-disabled")){var ab,ah=60,ac=FYS("em",this,true),ak=FYD.getNextSibling(this),ag=FYD.getAncestorByTagName(this,"dl"),al=FYS("span.s",ag,true),af=FYS("span.n",ag,true),ai={};d.aliclick(null,"?tracelog=reg_simple_{0}_getcode");FYD.addClass(this,"send-disabled");FYD.addClass(this,"send-cd");function aa(){ab=f.later(1000,this,function(){if(ah===1){ac.innerHTML="\u53d1\u9001\u9a8c\u8bc1\u7801";FYD.removeClass(this,"send-cd");if(ae.vRegist.valid(ak)){FYD.removeClass(this,"send-disabled")}ab.cancel()}else{ac.innerHTML=--ah+"\u79d2\u540e\u91cd\u53d1"}},null,true);ac.innerHTML="60\u79d2\u540e\u91cd\u53d1"}function ad(){FYD.removeClass(ag,"ok");FYD.addClass(ag,"err");FYD.removeClass(this,"send-cd");if(ae.vRegist.valid(ak)){FYD.removeClass(this,"send-disabled")}af.innerHTML="\u7f51\u7edc\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"}ai[ae.registByM?"mobile":"email"]=ak.value;FD.common.request("JSONP",FD.Member.LR[ae.registByM?"urlSendM":"urlSendE"],{fn:ae.registByM?"sendm":"sende",scope:this,onCallback:function(an){if(an.success){FYD.removeClass(ag,"err");FYD.addClass(ag,"ok");if(ae.registByM){al.innerHTML="\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u5230\u60a8\u7684\u624b\u673a\uff0c\u8bf7\u7acb\u5373\u67e5\u6536"}else{al.innerHTML='\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u5230\u60a8\u7684\u90ae\u7bb1\uff0c<a href="'+an.data.emailUrl+'" onclick="FD.Member.LR.aliclick(null, \'?tracelog=reg_simple_e_check\')" target="_blank">\u7acb\u5373\u67e5\u6536</a>'}aa.call(this)}else{var am=ae.vRegist.getConfig(ak);am.isValid=false;FYD.removeClass(ag,"ok");FYD.addClass(ag,"err");FYD.removeClass(this,"send-cd");if(ae.vRegist.valid(ak)){FYD.removeClass(this,"send-disabled")}switch(an.data.resultCode){case"MEMBER_MP_VALIDATE_MP_ERR":af.innerHTML="\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u683c\u5f0f";break;case"MOBILE_HAS_VALIDATED":d.aliclick(null,"?tracelog=reg_simple_m_em2");af.innerHTML="\u624b\u673a\u53f7\u7801\u5df2\u88ab\u4f7f\u7528\uff0c\u8bf7\u66f4\u6362\u5176\u4ed6\u53f7\u7801";break;case"MOBILE_IDENTITY_CODE_TOO_FREQUENTLY":af.innerHTML="\u60a8\u83b7\u53d6\u9a8c\u8bc1\u7801\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u660e\u5929\u518d\u8bd5\u6216\u66f4\u6539\u53f7\u7801";break;case"DATA_ERROR":af.innerHTML="\u7f51\u7edc\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5";am.isValid=true;break;case"EXPIRE_CHECK_TIMES":af.innerHTML="\u60a8\u83b7\u53d6\u9a8c\u8bc1\u7801\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u660e\u5929\u518d\u8bd5\u6216\u66f4\u6539\u90ae\u7bb1";break;case"MEMBER_EMAIL_VALIDATE_EMAIL_USED":af.innerHTML="\u90ae\u7bb1\u5df2\u88ab\u4f7f\u7528\uff0c\u8bf7\u66f4\u6362\u5176\u4ed6\u90ae\u7bb1";d.aliclick(null,"?tracelog=reg_simple_{0}_ee2");break}}},onTimeout:ad,onFailure:ad},ai)}},this);FYE.on(n,"click",function(ae,af){FYE.preventDefault(ae);var ab="\u8fd4\u56de\u624b\u673a\u9a8c\u8bc1",aa="\u6ca1\u6709\u624b\u673a\uff1f\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u90ae\u7bb1\u9a8c\u8bc1",ad="\u624b\u673a\u6ce8\u518c",ac="\u90ae\u7bb1\u6ce8\u518c";if(this.innerHTML===ab){d.aliclick(null,"?tracelog=reg_simple_m_tab2");FYD.setStyle(k,"display","none");FYD.setStyle(h,"display","");af.vRegist.active(M,false);af.vRegist.active(L,true);af.registByM=true;this.innerHTML=aa;this.setAttribute("title",ac)}else{d.aliclick(null,"?tracelog=reg_simple_e_tab");FYD.setStyle(h,"display","none");FYD.setStyle(k,"display","");if(M.value){FYD.removeClass(M,"placeholder")}if(!FYD.hasClass(A[1],"send-cd")){FYD.removeClass(A[1],"send-disabled")}af.vRegist.active(L,false);af.vRegist.active(M,true);af.vRegist.active(M,false);af.vRegist.active(M,true);af.registByM=false;this.innerHTML=ab;this.setAttribute("title",ad)}af.vRegist.active(W,false);W.value="";af.vRegist.active(W,true)},this);FYE.on(H,c.opera?"keypress":"keydown",function(aa,ab){if(!aa.shiftKey&&aa.keyCode&&aa.keyCode==9){FYE.preventDefault(aa);m.focus()}},this);FYE.on(W,c.opera?"keypress":"keydown",function(aa,ab){if(!aa.shiftKey&&aa.keyCode&&aa.keyCode==9){FYE.preventDefault(aa);t.focus()}},this);FYE.on(m,c.opera?"keypress":"keydown",function(aa,ab){if(aa.shiftKey&&aa.keyCode&&aa.keyCode==9){FYE.preventDefault(aa);H.focus()}},this);FYE.on(t,c.opera?"keypress":"keydown",function(aa,ab){if(aa.shiftKey&&aa.keyCode&&aa.keyCode==9){FYE.preventDefault(aa);W.focus()}},this);FYE.on(S,"focus",function(ab){var aa=FYD.getAncestorByTagName(this,"dl");if(FYD.hasClass(aa,"err")&&this.value){this.select()}else{FYD.addClass(aa,"focus")}});FYE.on(S,"blur",function(aa){FYD.removeClass(FYD.getAncestorByTagName(this,"dl"),"focus")});this.vLogin=new FD.widget.Valid(FYS("input[vg=login]",this.mod),{onValid:function(ab,ac){var aa=FYD.getAncestorByTagName(this,"dl"),ad=FYS("span.n",aa,true);ad.innerHTML="";if(ab=="pass"){FYD.removeClass(aa,"err");FYD.addClass(aa,"ok");switch(ac.key){case"account":d.aliclick(null,"?tracelog=signin_simple_s1");break;case"pwd":d.aliclick(null,"?tracelog=signin_simple_s2");break;case"code":d.aliclick(null,"?tracelog=signin_simple_s3");break}}else{if(ab=="default"){FYD.removeClass(aa,"err");FYD.removeClass(aa,"ok")}else{switch(ab){default:ad.innerHTML="\u8bf7\u586b\u5199\u6b63\u786e\u7684\u5185\u5bb9\u3002";break;case"required":switch(ac.key){case"account":d.aliclick(null,"?tracelog=signin_simple_null1");return;case"pwd":ad.innerHTML="\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801";d.aliclick(null,"?tracelog=signin_simple_null2");break;case"code":ad.innerHTML="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801";d.aliclick(null,"?tracelog=signin_simple_null3");break}break;case"min":ad.innerHTML="\u8bf7\u8f93\u51654\u4f4d\u9a8c\u8bc1\u7801";d.aliclick(null,"?tracelog=signin_simple_ev1");break;case"fun":ad.innerHTML=ac.msg;break}FYD.removeClass(aa,"ok");FYD.addClass(aa,"err")}}if(this.value){switch(ac.key){case"account":d.aliclick(null,"?tracelog=signin_simple_chg1");break;case"pwd":d.aliclick(null,"?tracelog=signin_simple_chg2");break;case"code":d.aliclick(null,"?tracelog=signin_simple_chg6");break}}}});this.vRegist=new FD.widget.Valid(FYS("input[vg=regist],input[vg=lr]",this.mod),{onValid:function(ab,ac){var aa=FYD.getAncestorByTagName(this,"dl"),ad=FYS("span.n",aa,true);ad.innerHTML="";if(ab==="pass"){FYD.removeClass(aa,"err");FYD.addClass(aa,"ok");if(FYD.getStyle(aa,"display")!=="none"){switch(ac.key){case"id":d.aliclick(null,"?tracelog=reg_simple_{0}_s1");break;case"pwd":d.aliclick(null,"?tracelog=reg_simple_{0}_s2");break;case"repwd":d.aliclick(null,"?tracelog=reg_simple_{0}_s3");break;case"emaile":d.aliclick(null,"?tracelog=reg_simple_{0}_s4");case"mobile":d.aliclick(null,"?tracelog=reg_simple_{0}_s5");case"code":d.aliclick(null,"?tracelog=reg_simple_{0}_s6");break}}}else{if(ab==="default"){FYD.removeClass(aa,"err");FYD.removeClass(aa,"ok")}else{switch(ab){default:break;case"required":ad.innerHTML="\u6b64\u9879\u4e3a\u5fc5\u586b\u9879";switch(ac.key){case"id":d.aliclick(null,"?tracelog=reg_simple_{0}_null1");break;case"pwd":d.aliclick(null,"?tracelog=reg_simple_{0}_null2");break;case"repwd":d.aliclick(null,"?tracelog=reg_simple_{0}_null3");break;case"emaile":d.aliclick(null,"?tracelog=reg_simple_{0}_null4");break;case"mobile":d.aliclick(null,"?tracelog=reg_simple_{0}_null5");break;case"code":d.aliclick(null,"?tracelog=reg_simple_{0}_null6");break;case"clause":ad.innerHTML="\u9700\u540c\u610f\u300a\u963f\u91cc\u5df4\u5df4\u670d\u52a1\u6761\u6b3e\u300b\u624d\u53ef\u6ce8\u518c\u4e3a\u4f1a\u5458";d.aliclick(null,"?tracelog=reg_simple_{0}_privacy_cancel");break;default:break}break;case"fun":if(ac.msg){ad.innerHTML=ac.msg}break;case"min":ad.innerHTML="\u8bf7\u8f93\u5165\u60a8\u6536\u5230\u76846\u4f4d\u9a8c\u8bc1\u7801";d.aliclick(null,"?tracelog=reg_simple_{0}_e_code");break;case"max":ad.innerHTML="\u8bf7\u8f93\u516550\u4e2a\u5b57\u7b26\u4ee5\u5185\u7684\u7535\u5b50\u90ae\u7bb1";break;case"noAlidomain":ad.innerHTML="\u4e0d\u80fd\u4f7f\u7528\u4ee5alibaba-inc.com\u4e3a\u540e\u7f00\u7684\u90ae\u7bb1";break;case"emaile":ad.innerHTML="\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1\uff0c\u5982\uff1aabc@abc.com";break;case"rMobile":ad.innerHTML="\u624b\u673a\u5df2\u88ab\u4f7f\u7528\uff0c\u8bf7\u66f4\u6362\u5176\u4ed6\u624b\u673a";break;case"id1":ad.innerHTML="\u8bf7\u8f93\u5165\u4ee5\u5b57\u6bcd\u5f00\u5934\u7684\u4f1a\u5458\u540d";break;case"id2":ad.innerHTML="\u8bf7\u8f93\u51654-20\u4f4d\u5b57\u6bcd\u6216\u6570\u5b57";break;case"rUser":ad.innerHTML="\u4f1a\u5458\u540d\u5df2\u5b58\u5728";break}FYD.removeClass(aa,"ok");FYD.addClass(aa,"err");if(ab!=="required"){switch(ac.key){case"id":d.aliclick(null,"?tracelog=reg_simple_{0}_e_loginid");break;case"pwd":d.aliclick(null,"?tracelog=reg_simple_{0}_e_password");break;case"repwd":d.aliclick(null,"?tracelog=reg_simple_{0}_ecp1");break;case"code":d.aliclick(null,"?tracelog=reg_simple_{0}_e_code");break}}}}if(this.value){switch(ac.key){case"id":d.aliclick(null,"?tracelog=reg_simple_{0}_chg1");break;case"pwd":d.aliclick(null,"?tracelog=reg_simple_{0}_chg2");break;case"repwd":d.aliclick(null,"?tracelog=reg_simple_{0}_chg3");break;case"emaile":d.aliclick(null,"?tracelog=reg_simple_{0}_chg4");break;case"mobile":d.aliclick(null,"?tracelog=reg_simple_{0}_chg5");break;case"code":d.aliclick(null,"?tracelog=reg_simple_{0}_chg6");break}}}});function s(){x[0].innerHTML='<img alt="" src="http://img.china.alibaba.com/images/common/icon_v02/warn7.png" />\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01';D=false}function z(){x[1].innerHTML='<img alt="" src="http://img.china.alibaba.com/images/common/icon_v02/warn7.png" />\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01';g=false}v.src=(r("style.logindailytaobao.url")||"http://login.taobao.com")+"/member/login.jhtml?from=b2b_pop&style=b2b&full_redirect=false&reg="+encodeURIComponent((r("style.exodus2.url")||"http://exodus.1688.com")+"/member/join/common_join.htm")+"&redirectURL="+encodeURIComponent((r("style.jumpdailytaobao.url")||"http://jump.taobao.com")+"/jump?target="+encodeURIComponent((r("style.loginchinahttp.url")||"http://login.1688.com")+"/member/pop_signin_route.htm?from="+encodeURIComponent(location.href)));function r(aa){return FD.test&&FD.test[aa]}FYE.on(v,"load",C,d,true);function C(){var aa=this;if(!this._isOpen||this.tabIndex){return}var ac=d.__cookie("__cn_logon_id__");if(ac&&!d.__isSubAccount()){E.call(this,ac)}else{var ab=r("style.logintaobao.sync.url")||"http://b2bsync.taobao.com/tbc";FD.common.request("jsonp",ab,{onCallback:function(af){var ae=af.__cn_logon_id__;if(ae){var ad={raw:true};if(/\balibaba\.com$/.test(location.hostname)){ad.domain="alibaba.com";ad.path="/"}d.__cookie("__cn_logon_id__",ae,ad);d.__cookie("__last_loginid__",ae,FD.common.apply({expires:30},ad));d.__cookie("__cn_logon__",true,ad);E.call(aa,ae)}}})}}function E(aa){FYD.setStyle(R[0],"display","none");FYD.setStyle(u[0],"display","");FYD.setStyle(u[1],"display","none");var ab={userid:aa,ResultSet:{csrf_token:e()}};if(this.onLoginSuccess){this.onLoginSuccess(u[0],{},ab)}d.aliclick(null,"?tracelog=signin_simple_sub")}FYE.on(F,"click",function(aa){FYE.preventDefault(aa);FYD.setStyle(X,"display","none");FYD.setStyle(P,"display","block");d.aliclick(null,"?tracelog=zfbsigin_login_b_login")});FYE.on(y,"click",function(aa){FYE.preventDefault(aa);FYD.setStyle(X,"display","block");FYD.setStyle(P,"display","none");FYD.setStyle(O,"display","none");d.aliclick(null,"?tracelog=layer_return1688_20130322")});FYE.on(U,"click",function(aa){FYE.preventDefault(aa);FYD.setStyle(X,"display","none");FYD.setStyle(O,"display","block");d.aliclick(null,"?tracelog=pop_top_tb")});this.handleInputsFocusTrace()},__checkIfLoginDone:function(){},__cookie:function(j,l,h){if(l!==null&&typeof l==="object"){h=l}h=h||{};var g,k=h.raw?function(o){return o}:escape,m=h.raw?function(o){return o}:unescape;if(arguments.length>1&&(l===null||typeof l!=="object")){h=FD.common.apply({},h);if(l===null){h.expires=-1}if(typeof h.expires==="number"){var n=h.expires,i=h.expires=new Date();i.setDate(i.getDate()+n)}return(document.cookie=[k(j),"=",h.raw?String(l):k(String(l)),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join(""))}return(g=new RegExp("(?:^|; )"+escape(j)+"=([^;]*)").exec(document.cookie))?m(g[1]):null},__isSubAccount:function(){return !!d.__cookie("cn_user")||/:/.test(d.__cookie("__cn_logon_id__"))},fireEventHandler:function(h,i){if(0<c.ie&&c.ie<9){h.fireEvent("on"+i)}else{var g=document.createEvent("HTMLEvents");g.initEvent(i,true,true);h.dispatchEvent(g)}},submit:function(){if(this.tabIndex){this.fireEventHandler(this.btnRegist,"click")}else{this.fireEventHandler(this.btnLogin,"click")}},clause:function(h){var g=FYS("textarea",this.mod,true);this._clause=h;g.value=h},show:function(g){function h(j){if(!this.mod){this.render();this.init();this.passwordStrength.init()}else{if(!("placeholder" in document.createElement("input"))){FYS("input[placeholder]",this.mod).forEach(function(l){this.fireEventHandler(l,"blur")},this)}}var k=this;FD.widget.block(this.mod,{showOverlay:g.showOverlay!==false,iframe:true,focusInput:false,constrainTabKey:false,onBlock:function(){k._isOpen=true;k.vLogin.active(true);k.vRegist.active(true);k.vLogin.active(k.lcode,k.lcodeActive);if(k.registByM===true){k.vRegist.active(k.emaile,false)}d.aliclick(null,"?tracelog=layer_simple_open")}});this.fireEventHandler(this.tabs[0],"click");if(g.onShow){g.onShow.call(this)}this.onLoginSuccess=g.onLoginSuccess;this.onRegistSuccess=g.onRegistSuccess;this.activeLCodeBox(j.verifyCode);if(!FYG("umiframe")){var i=document.createElement("div");i.id="umiframe";FYD.setStyle(i,"display","none");i.innerHTML='<iframe width="1" height="1" src="http://exodus.1688.com/member/get_umid.htm"></iframe>';document.body.appendChild(i)}}g=g||{};if(FD.test["style.exodus2.url"]){if(FD.test["style.loginchina.url"]){["loginUrl","checkcodeSrc"].forEach(function(i){d[i]=d[i].replace("https://login.1688.com",FD.test["style.loginchina.url"])})}if(FD.test["style.loginchinahttp.url"]){d.getLastLoginType=d.getLastLoginType.replace("http://login.1688.com",FD.test["style.loginchinahttp.url"])}if(FD.test["style.exodus2.url"]){["registUrl","urlMobile","urlEmail","urlId","urlSendM","urlSendE","urlUM"].forEach(function(i){d[i]=d[i].replace("http://exodus.1688.com",FD.test["style.exodus2.url"])})}if(FD.test["style.alipayauth.url"]){["alipayLoginServer","alipayGoto"].forEach(function(i){d[i]=d[i].replace("https://auth.alipay.com",FD.test["style.alipayauth.url"])})}if(FD.test["style.logindailytaobao.url"]){d.taobaoLoginServer=d.taobaoLoginServer.replace("https://login.taobao.com",FD.test["style.logindailytaobao.url"])}if(FD.test["style.member1dailytaobao.url"]){d.taobaoMiddle=d.taobaoMiddle.replace("http://member1.taobao.com",FD.test["style.member1dailytaobao.url"])}if(FD.test["style.jumptaobao.url"]){d.taobaoGoto=d.taobaoGoto.replace("http://jump.taobao.com",FD.test["style.jumptaobao.url"])}}if(g.loginchinaDomain){["loginUrl","checkcodeSrc"].forEach(function(i){d[i]=d[i].replace("https://login.1688.com",g.loginchinaDomain)})}if(g.loginchinahttpDomain){d.getLastLoginType=d.getLastLoginType.replace("http://login.1688.com",g.loginchinahttpDomain)}if(g.aliDomain){["registUrl","urlMobile","urlEmail","urlId","urlSendM","urlSendE","urlUM"].forEach(function(i){d[i]=d[i].replace("http://exodus.1688.com",g.aliDomain)})}if(g.alipayDomain){["alipayLoginServer","alipayGoto"].forEach(function(i){d[i]=d[i].replace("https://auth.alipay.com",g.alipayDomain)})}if(g.logintaobaoDomain){d.taobaoLoginServer=d.taobaoLoginServer.replace("https://login.taobao.com",g.logintaobaoDomain)}if(g.member1taobaoDomain){d.taobaoMiddle=d.taobaoMiddle.replace("http://member1.taobao.com",g.member1taobaoDomain)}this.source=g.source;FD.common.request("jsonp",this.getLastLoginType,{scope:this,onCallback:function(i){if(i.success){this.sessionId=i.checkcodetoken;this.loginid=i.data;if(this.sessionId){h.call(this,i)}}}})},hide:function(){var g=this;this.traceClose();FD.widget.unblock({onUnblock:function(){g._isOpen=false;g.form.reset();g.vLogin.active(false);g.vRegist.active(false);if(g.tabIndex===1){if(g.switcher&&g.switcher.innerHTML==="\u8fd4\u56de\u624b\u673a\u9a8c\u8bc1"){g.fireEventHandler(g.switcher,"click")}}FYS("input[placeholder]",g.mod).forEach(function(h){if(h.value){FYD.removeClass(h,"placeholder")}},g)}})},activeLCodeBox:function(g){FYD.setStyle(this.lcodeBox,"display",g?"":"none");this.lcodeActive=g;this.vLogin.active(this.lcode,g)},_encodeSpecial:function(g){return g.replace(/%/g,"%25").replace(/\//g,"%2F").replace(/&/g,"%26").replace(/#/g,"%23").replace(/\+/g,"%2B").replace(/\s/g,"+")},vAccount:function(h,n){var p=FD.Member.LR,i=this,j=this.value,g=h.opt,k=h.cfg,m=FYD.getNextSibling(this),l=function(){k.isValid=true;n.call(this,"pass",g)};FD.common.request("jsonp",p.getLastLoginType,{onCallback:function(s){var r=s.verifyCode;var q=p.lcodeActive;p.activeLCodeBox(r);o();if(q&&!r){p.fireEventHandler(p.btnLogin,"click")}}},{loginId:j});function o(){if(/^[1][3|5|8]\d{9}$/.test(j)){FD.common.request("jsonp",p.urlMobile,{onCallback:function(q){if(q.isHistoryMobile=="true"){FYD.setStyle(i,"width","90px");FYD.setStyle(m,"display","")}l.call(i)},onTimeout:l,onFailure:l},{paramA:j})}else{FYD.setStyle(i,"width","170px");FYD.setStyle(m,"display","none");k.isValid=true;n.call(i,"pass",g)}}},vEmailE:function(j){var i=FD.Member.LR,h=FYD.getAncestorByTagName(this,"dl"),g=FYS("span.s",h,true);if(/@alibaba-inc\.com$/.test(this.value)){return"\u4e0d\u80fd\u4f7f\u7528\u4ee5alibaba-inc.com\u4e3a\u540e\u7f00\u7684\u90ae\u7bb1"}if(!a.test(this.value)){return"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1\uff0c\u5982\uff1aabc@abc.com"}g.innerHTML="";return true},vID:function(i,j){var h=i.opt,g=i.cfg;if(!/^[A-Za-z]{1}[A-Za-z\d]{3,19}$/.test(this.value)){d.aliclick(null,"?tracelog=reg_simple_{0}_el1");if(/^\d+/.test(this.value)){j.call(this,"id1",h);d.aliclick(null,"?tracelog=reg_simple_{0}_e_loginid1");return}if(/[^A-Za-z\d]/.test(this.value)){j.call(this,"id2",h);d.aliclick(null,"?tracelog=reg_simple_{0}_e_loginid2");return}if(this.value.length<4){j.call(this,"id2",h);return}return}j.call(this,"default",h);FD.common.request("JSONP",FD.Member.LR.urlId,{scope:this,fn:"user",onCallback:function(k){if(k.success){g.isValid=true;j.call(this,"pass",h)}else{j.call(this,"rUser",h);d.aliclick(null,"?tracelog=reg_simple_{0}_el2")}},onTimeout:function(){g.isValid=true;j.call(this,"pass",h)},onFailure:function(){g.isValid=true;j.call(this,"pass",h)}},{TPL_NICK:encodeURI(this.value)})},vPwd:function(j){var r=FD.Member.LR;if(j.key=="pwd"){if(!/^[\w\`\~\!\@\#\$\%\^\&\*\(\)\+\-\=\{\}\|\\\[\]\:\"\;\'\<\>\?\,\.\/]{6,20}$/.test(this.value)){r.aliclick(null,"?tracelog=reg_simple_{0}_ep11");return"\u8bf7\u8f93\u51656-20\u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u7b26\u53f7"}var k=FYD.getAncestorByTagName(this,"dl"),q=FYD.getPreviousSibling(k),n=FYS("dl.email",r.mod),p=FYS("dl.mobile",r.mod,true),i=FYS("input",q,true),h=FYS("input",p,true),g=FYS("input",n[0],true);if(r.vRegist.getConfig(i).isValid){if(i.value==this.value){r.aliclick(null,"?tracelog=reg_simple_{0}_ep1");return"\u4e0d\u80fd\u4f7f\u7528\u767b\u5f55\u540d\u4f5c\u4e3a\u5bc6\u7801"}if((this.value||"").lastIndexOf(i.value)>-1){r.aliclick(null,"?tracelog=reg_simple_{0}_ep2");return"\u4e0d\u80fd\u5728\u5bc6\u7801\u4e2d\u5305\u542b\u767b\u5f55\u540d"}if((i.value||"").lastIndexOf(this.value)>-1){r.aliclick(null,"?tracelog=reg_simple_{0}_ep3");return"\u4e0d\u80fd\u7528\u767b\u5f55\u540d\u7684\u4e00\u90e8\u5206\u4f5c\u4e3a\u5bc6\u7801"}}if("012345678909876543210".lastIndexOf(this.value)>-1){r.aliclick(null,"?tracelog=reg_simple_{0}_ep4");return"\u4e0d\u80fd\u4f7f\u7528\u8fde\u7eed\u7684\u6570\u5b57\u4f5c\u4e3a\u5bc6\u7801"}if("ABCDEFGHIJKLMNOPQRSTUVWXYZYXWVUTSRQPONMLKJIHGFEDCBA".lastIndexOf(this.value)>-1){r.aliclick(null,"?tracelog=reg_simple_{0}_ep5");return"\u4e0d\u80fd\u4f7f\u7528\u8fde\u7eed\u7684\u5b57\u6bcd\u4f5c\u4e3a\u5bc6\u7801"}if("abcdefghijklmnopqrstuvwxyzyxwvutsrqponmlkjihgfedcba".lastIndexOf(this.value)>-1){r.aliclick(null,"?tracelog=reg_simple_{0}_ep6");return"\u4e0d\u80fd\u4f7f\u7528\u8fde\u7eed\u7684\u5b57\u6bcd\u4f5c\u4e3a\u5bc6\u7801"}if(/^(\d)\1+$/.test(this.value)){r.aliclick(null,"?tracelog=reg_simple_{0}_ep7");return"\u4e0d\u80fd\u4f7f\u7528\u76f8\u540c\u7684\u6570\u5b57\u4f5c\u4e3a\u5bc6\u7801"}if(/^([a-zA-Z])\1+$/.test(this.value)){r.aliclick(null,"?tracelog=reg_simple_{0}_ep8");return"\u4e0d\u80fd\u4f7f\u7528\u76f8\u540c\u7684\u5b57\u6bcd\u4f5c\u4e3a\u5bc6\u7801"}if(/^([\`\~\!\@\#\$\%\^\&\*\(\)\+\-\=\{\}\|\\\[\]\:\"\;\'\<\>\?\,\.\/\_])\1+$/.test(this.value)){return"\u4e0d\u80fd\u4f7f\u7528\u76f8\u540c\u7684\u7b26\u53f7\u4f5c\u4e3a\u5bc6\u7801"}if(!r.registByM&&r.vRegist.getConfig(g).isValid){if(g.value.split("@")[0]===this.value){r.aliclick(null,"?tracelog=reg_simple_{0}_ep9");return"\u4e0d\u80fd\u4f7f\u7528\u90ae\u7bb1\u524d\u7f00\u4f5c\u4e3a\u5bc6\u7801"}}if(r.registByM&&r.vRegist.getConfig(h).isValid){if(this.value===h.value){r.aliclick(null,"?tracelog=reg_simple_m_ep12");return"\u4e0d\u80fd\u4f7f\u7528\u624b\u673a\u53f7\u7801\u4f5c\u4e3a\u5bc6\u7801"}}if(this.value==="password"){r.aliclick(null,"?tracelog=reg_simple_{0}_ep10");return'\u4e0d\u80fd\u4f7f\u7528"password"\u4f5c\u4e3a\u5bc6\u7801'}return true}else{var k=FYD.getAncestorByTagName(this,"dl"),m=FYD.getPreviousSibling(k),l=FYS("input",m,true);if(!r.vRegist.getConfig(l).isValid){return"\u8bf7\u5148\u8f93\u5165\u6b63\u786e\u7684\u5bc6\u7801"}if(this.value===""){r.aliclick(null,"?tracelog=reg_simple_null3");return"\u8bf7\u91cd\u590d\u8f93\u5165\u5bc6\u7801"}if(l.value!==this.value){return"\u8bf7\u91cd\u590d\u8f93\u5165\u5bc6\u7801"}return true}},vMobile:function(k){var i=FD.Member.LR,h=FYD.getAncestorByTagName(this,"dl"),j=FYS("a.send",h,true),g=FYS("span.s",h,true);if(!/^\d{11}$/.test(this.value.replace(/^(0|86)/,""))){i.aliclick(null,"?tracelog=reg_simple_m_em1");return"\u8bf7\u8f93\u516511\u4f4d\u6570\u5b57"}if(!b.test(this.value)){i.aliclick(null,"?tracelog=reg_simple_m_em1");return"\u8bf7\u8f93\u516513/14/15/18\u5f00\u5934\u7684\u624b\u673a\u53f7\u7801"}g.innerHTML="";return true},handleInputsFocusTrace:function(){var i=this,g=FYS("input.text",this.mod),j={"3":"reg_simple_{0}_time1","4":"reg_simple_{0}_time2","5":"reg_simple_{0}_time3","7":"reg_simple_{0}_time5","8":"reg_simple_{0}_time4","9":"reg_simple_{0}_time6"};for(var h in j){FYE.on(g[h],"focus",function(k,l){i.lastFocusInput=l;d.aliclick(null,"?tracelog="+j[l])},h)}},traceClose:function(){var g=this.lastFocusInput,h={3:"reg_simple_{0}_close1",4:"reg_simple_{0}_close2",5:"reg_simple_{0}_close3",7:"reg_simple_{0}_close5",8:"reg_simple_{0}_close4",9:"reg_simple_{0}_close6"};this.aliclick(null,"?tracelog=reg_simple_{0}_close");h[g]&&this.aliclick(null,"?tracelog="+h[g])},generateAlipayLoginUrl:function(){var g,h=d.alipayGoto+"?target="+encodeURIComponent(location.toString());g=d.alipayLoginServer+"?classOption=b2b&center=false&goto="+encodeURIComponent(h);return g},generateTaobaoLoginUrl:function(){return d.taobaoLoginPage+"?style=mini&full_redirect=true&from=b2b_tb_pop&disableQuickLogin=true&redirectURL="+encodeURIComponent("http://login.1688.com/member/jump.htm?target="+encodeURIComponent("http://jump.taobao.com/jump?target="+encodeURIComponent(location.href)))},passwordStrength:{init:function(){var i=FYS("dl.password",d.mod,true),h=FYS("input",i,true),j={verdects:["","\u5f31","\u4e2d","\u5f3a"],bground:[0,-10,-20,-30],color:["#e60000","#000","#010000"],scores:[0,35,65],minchars:6},g=false;FYE.on(h,"focus",function(){if(!g){g=true;var l=this,n=FYD.getAncestorByTagName(l,"dd"),o=document.createElement("div");o.className="meter";o.style.display="none";n.appendChild(o);o.innerHTML=['<h4>\u5f3a\u5ea6\uff1a</h4>							 <span class="meter-bar"></span><span class="meter-bar"></span><span class="meter-bar"></span>							 <span class="strength-txt"></span>'].join("");if(FYS(".rela",n).length===0){var k=document.createElement("div");k.style.position="relative";k.zIndex="1";n.insertBefore(k,n.firstChild);for(var m=1;m<n.childNodes.length;){k.appendChild(n.childNodes[m],null)}}FYE.on(this,"keyup",function(p){if(this.value.length!==0){FYD.setStyle(o,"display","block");d.passwordStrength.runPassword(o,this,j)}else{FYD.setStyle(o,"display","none")}});setTimeout(function(){l.focus()},50)}})},runPassword:function(l,h,k){var j=0,g=FYS(".strength-txt",l,true),i=FYS("span.meter-bar",l);j=d.passwordStrength.checkPassword(h);if(j<=k.scores[0]){g.innerHTML=k.verdects[0];i.forEach(function(m,n){FYD.setStyle(m,"backgroundPosition","0 "+k.bground[0]+"px")})}else{if(j>k.scores[0]&&j<k.scores[1]){g.innerHTML=k.verdects[1];FYD.setStyle(g,"color",k.color[0]);i.forEach(function(m,n){if(n===0){FYD.setStyle(m,"backgroundPosition","0 "+k.bground[1]+"px")}else{FYD.setStyle(m,"backgroundPosition","0 "+k.bground[0]+"px")}})}else{if(j>=k.scores[1]&&j<=k.scores[2]){g.innerHTML=k.verdects[2];FYD.setStyle(g,"color",k.color[1]);i.forEach(function(m,n){if(n===2){FYD.setStyle(m,"backgroundPosition","0 "+k.bground[0]+"px")}else{FYD.setStyle(m,"backgroundPosition","0 "+k.bground[2]+"px")}})}else{if(j>k.scores[2]){g.innerHTML=k.verdects[3];FYD.setStyle(g,"color",k.color[2]);i.forEach(function(m,n){FYD.setStyle(m,"backgroundPosition","0 "+k.bground[3]+"px")})}}}}},checkPassword:function(g){var j=g.value,i=0,h=FYS("dl.password",d.mod,true);if(d.vPwd.call(g,{key:"pwd"})!==true){i-=100}else{i=0}if(j.length==6){i+=5}else{if(j.length>=7&&j.length<=10){i+=10}else{if(j.length>10){i+=25}}}if(j.match(/\d.*\d.*\d/)){i+=25}else{if(j.match(/\d.*\d?/)){i+=10}}if(j.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)){i+=25}else{if(j.match(/[a-zA-Z]+/)){i+=10}}if(j.match(/[\W_].*[\W_]/)){i+=25}else{if(j.match(/[\W_]{1}/)){i+=10}}return i}}});function e(){var g=FYS("input[name=_csrf_token]",null,true);return g&&g.value}})(FD.Member.LR);FYE.onDOMReady(function(){LR.aliclick(null,"?tracelog=loginreg_"+location.host+location.pathname)});
