(function(A){A(function(){var B=A("#ali-masthead-industry");if(!B.length){return}var K=B.find("div.ali-search"),D=K.find("form").eq(0),I=K.find("input.search-keywords"),F=I.closest(".alisearch-txt"),H=K.find(".alisearch-hint"),J=D.attr("action"),M="http://s.1688.com/selloffer/offer_search.htm",G;function L(P){var N="http://stat.1688.com/tracelog/click.html";P="?tracelog="+P;if(typeof window.dmtrack!="undefined"){dmtrack.clickstat(N,P)}else{var O=new Date();if(document.images){(new Image).src=N+P+"&time="+O.getTime()}}return true}var E={placeholderInit:function(){if(I.val()!==""){K.addClass("search-input")}H.click(function(N){N.preventDefault();K.addClass("search-input");I.trigger("focus")});I.focus(function(){K.addClass("search-input");K.addClass("search-focus")});I.blur(function(){if(I.val()===""){K.removeClass("search-input")}K.removeClass("search-focus")})},suggestionInit:function(){A.add("web-suggestion",{requires:["ui-autocomplete"],js:["suggestion.js"]});I.bind("focus.suggestion",function(){A.use("web-suggestion",function(){G=new FE.ui.Suggestion(I,{appendTo:F,url:"http://suggest.1688.com/bin/suggest?cnt=10&recommend=Y",type:"offer",position:{my:"left top",at:"left bottom",offset:"-7 5"},widthfix:7})});I.unbind("focus.suggestion")})},submitInit:function(){D.get(0).onsubmit=function(){if(I.val()===""){I.focus();return false}return true}},searchSubmit:function(){K.find(".search-wp-btn").click(function(N){N.preventDefault();if(I.val()!==""){D.attr("action",J);D.attr("target","_self");D.trigger("submit")}});K.find(".search-site-btn").click(function(N){N.preventDefault();if(I.val()!==""){D.attr("action",M);D.attr("target","_blank");D.trigger("submit")}})},traceLogInit:function(){B.on("mousedown","[data-header-trace]",function(){var N=A(this).data("headerTrace")||"";if(N){if(typeof aliclick!=="undefined"){aliclick(null,"?tracelog="+N)}else{L(N)}}})}};for(var C in E){E[C]()}})})(jQuery);
