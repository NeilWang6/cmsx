(function(b){var a=function(d,e){if(e.store){this.init(d,e)}},c={title:["--\u8bf7\u9009\u62e9--","--\u8bf7\u9009\u62e9--","--\u8bf7\u9009\u62e9--"],showTitle:true,vals:[],texts:[]};a.prototype={init:function(f,g){g=g||{};this.defaults=FD.common.applyIf(g,c);for(var e=0,d=this.defaults.vals.length;e<d;e++){switch(e){case 0:this.valP=this.defaults.vals[0];break;case 1:this.valC=this.defaults.vals[1];break;case 2:this.valA=this.defaults.vals[2];break}}for(var e=0,d=this.defaults.texts.length;e<d;e++){switch(e){case 0:this.textP=this.defaults.texts[0];break;case 1:this.textC=this.defaults.texts[1];break;case 2:this.textA=this.defaults.texts[2];break}}for(var e=f.length-1;e>-1;e--){switch(e){case 0:this.elP=f[0];if(this.elC||this.defaults.onPSelected){FYE.on(this.elP,"change",function(i,h){if(h.elC){h.ip=h.defaults.store[0][(h.defaults.store[0][1]?1:0)].indexOf(this.value);h.valA=h.textA=null;h.cityBind.call(h)}if(h.defaults.onPSelected){h.defaults.onPSelected.call(this)}},this)}break;case 1:this.elC=f[1];if(this.elA||this.defaults.onCSelected){FYE.on(this.elC,"change",function(i,h){if(h.elA){h.ic=(h.defaults.store[1][1])?h.defaults.store[1][1][h.ip].indexOf(this.value):h.defaults.store[1][0][h.ip].indexOf(this.value);h.areaBind.call(h)}if(h.defaults.onCSelected){h.defaults.onCSelected.call(this)}},this)}break;case 2:this.elA=f[2];if(this.defaults.onASelected){FYE.on(this.elA,"change",function(i,h){h.defaults.onASelected.apply(this)},this)}break}}this.provinceBind(this.valP,this.textP)},provinceBind:function(k,h){var d=this.defaults.store[0][1]?1:0;if(h&&!k){k=this.defaults.store[0][d][this.defaults.store[0][0].indexOf(h)]}this.ip=k?this.defaults.store[0][d].indexOf(k):-1;this.elP.options.length=0;if(this.defaults.showTitle){var g=new Option(this.defaults.title[0],"");this.elP.options.add(g)}else{if(this.ip<0){this.ip=0}}for(var f=0,e=this.defaults.store[0][0].length;f<e;f++){var g=new Option(this.defaults.store[0][0][f],this.defaults.store[0][d][f]);this.elP.options.add(g)}if(k){this.elP.value=k}else{this.elP.selectedIndex=0}if(this.elC){this.cityBind(this.valC,this.textC)}},cityBind:function(k,h){var d=this.defaults.store[1][1]?1:0;if(h&&!k){k=this.defaults.store[1][d][this.ip][this.defaults.store[1][0][this.ip].indexOf(h)]}this.ic=k&&this.ip>-1?this.defaults.store[1][d][this.ip].indexOf(k):-1;this.elC.options.length=0;if(this.defaults.showTitle){var g=new Option(this.defaults.title[1],"");this.elC.options.add(g)}else{if(this.ic<0){this.ic=0}}if(this.ip>-1){for(var f=0,e=this.defaults.store[1][0][this.ip].length;f<e;f++){var g=new Option(this.defaults.store[1][0][this.ip][f],this.defaults.store[1][d][this.ip][f]);this.elC.options.add(g)}}if(k){this.elC.value=k}else{this.elC.selectedIndex=0}if(this.elA){this.areaBind(this.valA,this.textA)}},areaBind:function(k,h){var d=this.defaults.store[2][1]?1:0;if(h&&!k){k=this.defaults.store[2][d][this.ip][this.ic][this.defaults.store[2][0][this.ip][this.ic].indexOf(h)]}this.ia=(k&&this.ip>-1&&this.ic>-1)?this.defaults.store[2][d][this.ip][this.ic].indexOf(k):-1;this.elA.options.length=0;if(this.defaults.showTitle){var g=new Option(this.defaults.title[2],"");this.elA.options.add(g)}else{if(this.ia<0){this.ia=0}}if(this.ip>-1&&this.ic>-1){for(var f=0,e=this.defaults.store[2][0][this.ip][this.ic].length;f<e;f++){var g=new Option(this.defaults.store[2][0][this.ip][this.ic][f],this.defaults.store[2][d][this.ip][this.ic][f]);this.elA.options.add(g)}}if(k){this.elA.value=k}else{this.elA.selectedIndex=0}}};b.PCA=a})(FD.widget);
