FD.widget.FoldList=function(a,b){this._init(a,b)};FD.widget.FoldList.defConfig={triggerClass:"f-trigger",contentClass:"f-content",expandClass:"f-expand",collapseClass:"f-collapse",showType:"block",multiExpand:true};FD.widget.FoldList.prototype={_init:function(b,c){this.container=$(b);this.config=FD.common.applyIf(c||{},FD.widget.FoldList.defConfig);this.triggers=$D.getElementsByClassName(this.config.triggerClass,"*",b);var a=this;$E.on(this.triggers,"click",function(d){if($E.getTarget(d)===this){a[($D.hasClass(this,a.config.collapseClass))?"expand":"collapse"](this)}})},expand:function(c){var a=this;if(!a.config.multiExpand&&!arguments[1]){this.triggers.filter(function(d){var e=$D.getNextSibling(d);return !($D.hasClass(e,a.config.contentClass)&&$D.isAncestor(e,c))}).forEach(a.collapse,a)}$D.addClass(c,this.config.expandClass);$D.removeClass(c,this.config.collapseClass);var b=$D.getNextSibling(c);if($D.hasClass(b,this.config.contentClass)){$D.setStyle(b,"display",this.config.showType)}},collapse:function(b){$D.addClass(b,this.config.collapseClass);$D.removeClass(b,this.config.expandClass);var a=$D.getNextSibling(b);if($D.hasClass(a,this.config.contentClass)){$D.setStyle(a,"display","none")}},expandAll:function(){var a=this;this.triggers.forEach(a.expand,a)},collapseAll:function(){var a=this;this.triggers.forEach(a.collapse,a)},getFlag:function(b){var a=this;this.triggers.forEach(a.collapse,a);var c=this.triggers.filter(function(d){return $D.getAttribute(d,"data-flag")===b.toString()})[0];if(c){do{this.expand(c,true);c=$D.getPreviousSibling($D.getAncestorByClassName(c,this.config.contentClass))}while(c&&c!=this.container)}}};
